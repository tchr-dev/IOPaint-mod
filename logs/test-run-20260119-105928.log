Running: uv run ruff check iopaint/tests/ && uv run ruff format --check iopaint/tests/
---
F541 [*] f-string without any placeholders
  --> iopaint/tests/test_anytext.py:42:9
   |
40 |         model,
41 |         cfg,
42 |         f"anytext.png",
   |         ^^^^^^^^^^^^^^
43 |         img_p=current_dir / "anytext_ref.jpg",
44 |         mask_p=current_dir / "anytext_mask.jpg",
   |
help: Remove extraneous `f` prefix

F401 [*] `unittest.mock.patch` imported but unused
 --> iopaint/tests/test_api_error_handling.py:4:33
  |
2 | import json
3 | from pathlib import Path
4 | from unittest.mock import Mock, patch
  |                                 ^^^^^
5 |
6 | import pytest
  |
help: Remove unused import: `unittest.mock.patch`

F401 [*] `iopaint.openai_compat.config.OpenAIConfig` imported but unused
  --> iopaint/tests/test_api_error_handling.py:12:42
   |
10 | from iopaint.api import Api
11 | from iopaint.budget.config import BudgetConfig
12 | from iopaint.openai_compat.config import OpenAIConfig
   |                                          ^^^^^^^^^^^^
13 | from iopaint.schema import (
14 |     ApiConfig,
   |
help: Remove unused import: `iopaint.openai_compat.config.OpenAIConfig`

F401 [*] `pathlib.Path` imported but unused
 --> iopaint/tests/test_controlnet.py:7:21
  |
6 | os.environ["PYTORCH_ENABLE_MPS_FALLBACK"] = "1"
7 | from pathlib import Path
  |                     ^^^^
8 |
9 | import pytest
  |
help: Remove unused import: `pathlib.Path`

F401 [*] `iopaint.schema.HDStrategy` imported but unused
  --> iopaint/tests/test_controlnet.py:13:28
   |
12 | from iopaint.model_manager import ModelManager
13 | from iopaint.schema import HDStrategy, SDSampler
   |                            ^^^^^^^^^^
   |
help: Remove unused import

F401 [*] `iopaint.schema.SDSampler` imported but unused
  --> iopaint/tests/test_controlnet.py:13:40
   |
12 | from iopaint.model_manager import ModelManager
13 | from iopaint.schema import HDStrategy, SDSampler
   |                                        ^^^^^^^^^
   |
help: Remove unused import

F401 [*] `os` imported but unused
 --> iopaint/tests/test_external_services_config.py:1:8
  |
1 | import os
  |        ^^
2 |
3 | from iopaint.services.config import ExternalImageServiceConfig
  |
help: Remove unused import: `os`

F401 [*] `pathlib.Path` imported but unused
 --> iopaint/tests/test_instruct_pix2pix.py:1:21
  |
1 | from pathlib import Path
  |                     ^^^^
2 |
3 | import pytest
  |
help: Remove unused import: `pathlib.Path`

F401 [*] `loguru.logger` imported but unused
 --> iopaint/tests/test_low_mem.py:3:20
  |
1 | import os
2 |
3 | from loguru import logger
  |                    ^^^^^^
4 |
5 | from iopaint.tests.utils import check_device, get_config, assert_equal, current_dir
  |
help: Remove unused import: `loguru.logger`

F841 Local variable `interactive_seg_model` is assigned to but never used
 --> iopaint/tests/test_model_md5.py:5:5
  |
3 |     from iopaint.model_manager import ModelManager
4 |
5 |     interactive_seg_model = InteractiveSeg("vit_l", "cpu")
  |     ^^^^^^^^^^^^^^^^^^^^^
6 |
7 |     models = ["lama", "ldm", "zits", "mat", "fcf", "manga", "migan"]
  |
help: Remove assignment to unused variable `interactive_seg_model`

F401 [*] `numpy` imported but unused
  --> iopaint/tests/utils.py:10:17
   |
 8 | from iopaint.model import models
 9 | from iopaint.schema import LDMSampler, HDStrategy, InpaintRequest, SDSampler
10 | import numpy as np
   |                 ^^
11 |
12 | current_dir = Path(__file__).parent.absolute().resolve()
   |
help: Remove unused import: `numpy`

Found 11 errors.
[*] 10 fixable with the `--fix` option (1 hidden fix can be enabled with the `--unsafe-fixes` option).
Would reformat: iopaint/tests/test_anytext.py
Would reformat: iopaint/tests/test_api_error_handling.py
Would reformat: iopaint/tests/test_budget_limits.py
Would reformat: iopaint/tests/test_controlnet.py
Would reformat: iopaint/tests/test_history_snapshots_api.py
Would reformat: iopaint/tests/test_instruct_pix2pix.py
Would reformat: iopaint/tests/test_low_mem.py
Would reformat: iopaint/tests/test_match_histograms.py
Would reformat: iopaint/tests/test_model.py
Would reformat: iopaint/tests/test_openai_capabilities.py
Would reformat: iopaint/tests/test_openai_client.py
Would reformat: iopaint/tests/test_openai_tools_api.py
12 files would be reformatted, 20 files already formatted
